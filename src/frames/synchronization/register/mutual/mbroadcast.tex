% SPDX-License-Identifier: CC-BY-SA-4.0
% Author: Matthieu Perrin
% Part: 
% Section: 
% Sub-section: 
% Frame: 

\begingroup

\begin{frame}{Mutual broadcast}

  \onBlock[top=-2mm]{Propriétés héritées de \textsc{sta}.\Broadcast}{
    \begin{description}[MB-Terminaison :]
    \item[MB-Validité :]    Si $p_i$ \textsc{mb}.\Deliver $m$ de $p_j$, $p_j$ a \textsc{mb}.\Broadcast $m$
    \item[MB-Intégrité :]   $p_i$ \textsc{mb}.\Deliver $m$ au plus une fois
    \item[MB-Terminaison :] \textsc{mb}.\Broadcast par correct $\Rightarrow$ \textsc{mb}.\Deliver par corrects.
    \end{description}
  }

  \onAlertBlock[y=-2mm]{Nouvelle propriété d'ordre}{
    \begin{description}[MB-Ordering :]
    \item[\alert{MB-Ordering :}] Si $p_i$ et $p_j$ \textsc{mb}.\Broadcast $m_i$ et $m_j$, il est impossible que
      \begin{itemize}
      \item $p_i$ \textsc{mb}.\Deliver $m_i$ avant $m_j$, et en même temps
      \item $p_j$ \textsc{mb}.\Deliver $m_j$ avant $m_i$
      \end{itemize}
    \end{description}
  }

  \on[y=-27mm, x=-38mm]{
    \begin{tikzpicture}[x=7mm, y=7mm]
      \draw[process] (0,1) node[left]{$p_1$} to (4,1);
      \draw[process] (0,0) node[left]{$p_2$} to (4,0);

      \draw[message, example]   (1,1) node[above left]{$m_1$} to[bend left=50]  (2,1);
      \draw[message, example]   (1,1)                         --                (3,0);
      \draw[message, structure] (1,0) node[below left]{$m_2$} to[bend right=50] (2,0);
      \draw[message, structure] (1,0)                         --                (3,1);

      \draw[alert, thick] (0,1.25) to (4,-.25);
      \draw[alert, thick] (4,1.25) to (0,-.25);

      \draw[alert] (2,-1) node{$\lnot$ MP1};
    \end{tikzpicture}
  }
  
  \on[y=-27mm]{
    \begin{tikzpicture}[x=7mm, y=7mm]
      \draw[process] (0,1) node[left]{$p_1$} to (4,1);
      \draw[process] (0,0) node[left]{$p_2$} to (4,0);

      \draw[message, example]   (1,1) node[above left]{$m_1$} to[bend left=50]  (2,1);
      \draw[message, example]   (1,1)                         --                (2,0);
      \draw[message, structure] (1,0) node[below left]{$m_2$} to[bend right=50] (3,0);
      \draw[message, structure] (1,0)                         --                (3,1);

      \draw (2,-1) node{MP2};
    \end{tikzpicture}
  }

  \on[y=-27mm, x=38mm]{
    \begin{tikzpicture}[x=7mm, y=7mm]
      \draw[process] (0,1) node[left]{$p_1$} to (4,1);
      \draw[process] (0,0) node[left]{$p_2$} to (4,0);

      \draw[message, example]   (1,1) node[above left]{$m_1$} to[bend left=50]  (3,1);
      \draw[message, example]   (1,1)                         --                (2,0);
      \draw[message, structure] (1,0) node[below left]{$m_2$} to[bend right=50] (3,0);
      \draw[message, structure] (1,0)                         --                (2,1);

      \draw (2,-1) node{MP3};
    \end{tikzpicture}
  }

  \on[bottom=-2mm, text]{
    \begin{citing}
    \item[PMJ16] M. Déprés, A. Mostéfaoui, M. Perrin, M. Raynal. \emph{Send/Receive Patterns Versus Read/Write Patterns in Crash-Prone Asynchronous Distributed Systems} DISC. 2023
    \end{citing}
  }  
  
\end{frame}

\endgroup
\endinput
